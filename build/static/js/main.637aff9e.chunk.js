(this.webpackJsonpmultimedia=this.webpackJsonpmultimedia||[]).push([[0],{162:function(e,t,a){},200:function(e,t){},202:function(e,t){},213:function(e,t){},215:function(e,t){},242:function(e,t){},244:function(e,t){},245:function(e,t){},250:function(e,t){},252:function(e,t){},271:function(e,t){},283:function(e,t){},286:function(e,t){},296:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a.n(n),i=a(41),o=a.n(i),s=a(14),d=a(38),l=a(164),j=a(19),u=a.n(j),b=a(11),h=a(32),p=a(4),O=a(15),m=a(67),f=a(47),x=a.n(f),g=a(165),_=a.n(g),v=new m.a,y=function(e){var t=new Set(e);return[Array.from(t)]},k=function(){var e=Object(h.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get(t);case 2:return a=e.sent,c=a.data,console.log(c),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){switch(e){case"Cr\xedtica":return{backgroundColor:"red",color:"white"};case"Media":return{backgroundColor:"#f0ad4e",color:"black"};case"Buena":return{backgroundColor:"#5cb85c",color:"white"};default:return{}}},N=function(e){return[e.replace(/-/g,"%2F")]},C=function(e){var t;return t=1===(e.getMonth()+1).length?"0".concat(e.getMonth()+1):e.getMonth()+1,["".concat(e.getFullYear(),"-").concat(t,"-").concat(e.getDate())]},H="[data] datos generales",P="[date] fecha de hoy",S="[params] parametros",R="[registros] numero de registros",F="[dataHospitales] datos generales",D="[dataHospitales] fecha de hoy",M="[dataHospitales] parametros",E="[dataHospitales] numero de registros",I="[dataHospitales] nombre de hospitales",Y="[dataHospitales] fecha del input",q="[dataPlanetas] titulo",z="[dataPlanetas] datos",T="[dataPlanetas] nombreHospitales",A="[dataPlanetas] parametros",B="[dataPlanetas] fechas",L="[dataPlanetas] makers",J={sector:"sector",sospechosos:"sospechosos",indigena:"indigena",fecha_ingreso:"fecha_ingreso",fecha_def:"fecha_def",inmusupr:"inmusupr",id_registro:"id_registro",entidad_res:"entidad_res",tipo_paciente:"tipo_paciente",uci:"uci",cardiovascular:"cardiovascular",clasificacion_final:"clasificacion_final",neumonia:"neumonia",hipertension:"hipertension",entidad_um:"entidad_um",toma_muestra_antigeno:"toma_muestra_antigeno",epoc:"epoc",asma:"asma",origen:"origen",toma_muestra_lab:"toma_muestra_lab",nacionalidad:"nacionalidad",pais_origen:"pais_origen",rango_edad:"rango_edad",embarazo:"embarazo",municipio_res:"municipio_res",sexo:"sexo",obesidad:"obesidad",habla_lengua_indi:"habla_lengua_indi",intubado:"intubado",fecha_actualizacion:"fecha_actualizacion",fecha_sintomas:"fecha_sintomas",diabetes:"diabetes",edad:"edad",resultado_lab:"resultado_lab",clas_final_escrita:"clas_final_escrita",pais_nacionalidad:"pais_nacionalidad",tabaquismo:"tabaquismo",otra_com:"otra_com",migrante:"migrante",resultado_antigeno:"resultado_antigeno",entidad_nac:"entidad_nac",otro_caso:"otro_caso",renal_cronica:"renal_cronica"},V={datos:[],parametros:[],fecha:{},numeroRegistros:50},X=function(e){return{type:S,payload:e}},G=function(e,t,a){return{type:P,payload:{hoy:e,ayer:t,fechaServidor:a}}},K=function(e){return{type:H,payload:e}},U={estatus_capacidad_hospitalaria:"estatus_capacidad_hospitalaria",fecha:"fecha",coordenadas:"coordenadas",institucion:"institucion",nombre_hospital:"nombre_hospital",estatus_capacidad_uci:"estatus_capacidad_uci"},Z={datosH:[],parametrosH:[],fechaH:{},fechaHInput:{},numeroRegistrosH:50,nombresHospitales:[]},Q=function(e){return{type:M,payload:e}},W=function(e,t){return{type:D,payload:{hoy:e,hoyF:t}}},$=function(e){return{type:F,payload:e}},ee=function(e){return{type:Y,payload:{fecha:e}}},te={titulo:"",datos:[],nombreHospitales:[],parametros:[],fecha:{},markersRedux:[]},ae=function(e){return{type:z,payload:e}},ce=function(e){return{type:q,payload:e}},ne=function(e){return{type:T,payload:e}},re=function(e){return{type:A,payload:e}},ie=Object(d.c)({datos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(p.a)(Object(p.a)({},e),{},{datos:t.payload});case P:return Object(p.a)(Object(p.a)({},e),{},{fecha:t.payload});case S:return Object(p.a)(Object(p.a)({},e),{},{parametros:t.payload});case R:return Object(p.a)(Object(p.a)({},e),{},{numeroRegistros:t.payload});default:return e}},hospitales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(p.a)(Object(p.a)({},e),{},{datosH:t.payload});case D:return Object(p.a)(Object(p.a)({},e),{},{fechaH:t.payload});case M:return Object(p.a)(Object(p.a)({},e),{},{parametrosH:t.payload});case E:return Object(p.a)(Object(p.a)({},e),{},{numeroRegistrosH:t.payload});case I:return Object(p.a)(Object(p.a)({},e),{},{nombresHospitales:t.payload.nombres});case Y:return Object(p.a)(Object(p.a)({},e),{},{fechaHInput:t.payload});default:return e}},planetas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(p.a)(Object(p.a)({},e),{},{datos:t.payload});case q:return Object(p.a)(Object(p.a)({},e),{},{titulo:t.payload});case T:return Object(p.a)(Object(p.a)({},e),{},{nombreHospitales:t.payload});case A:return Object(p.a)(Object(p.a)({},e),{},{parametros:t.payload});case B:return Object(p.a)(Object(p.a)({},e),{},{fecha:t.payload});case L:return Object(p.a)(Object(p.a)({},e),{},{markersRedux:t.payload});default:return e}}}),oe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,se=Object(d.e)(ie,oe(Object(d.a)(l.a))),de=a(170),le=a(16),je=a(68),ue=function(e){var t=e.fields,a=t.sector,r=t.sospechosos,i=t.indigena,o=t.fecha_ingreso,s=t.fecha_def,d=t.inmusupr,l=t.id_registro,j=t.entidad_res,u=t.tipo_paciente,b=t.uci,h=t.cardiovascular,p=t.clasificacion_final,O=t.neumonia,m=t.hipertension,f=t.entidad_um,x=t.toma_muestra_antigeno,g=t.epoc,_=t.asma,v=t.origen,y=t.toma_muestra_lab,k=t.nacionalidad,w=t.pais_origen,N=t.rango_edad,C=t.embarazo,H=t.municipio_res,P=t.sexo,S=t.obesidad,R=t.habla_lengua_indi,F=t.intubado,D=t.fecha_actualizacion,M=t.fecha_sintomas,E=t.diabetes,I=t.edad,Y=t.resultado_lab,q=t.clas_final_escrita,z=t.pais_nacionalidad,T=t.tabaquismo,A=t.otra_com,B=t.migrante,L=t.resultado_antigeno,J=t.entidad_nac,V=t.otro_caso,X=t.renal_cronica;return Object(c.jsx)(n.Fragment,{children:Object(c.jsxs)("tr",{style:"NA"!==s?{backgroundColor:"red",color:"white"}:{},children:[Object(c.jsx)("td",{children:a}),Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:i}),Object(c.jsx)("td",{children:o}),Object(c.jsx)("td",{children:s}),Object(c.jsx)("td",{children:d}),Object(c.jsx)("td",{children:l}),Object(c.jsx)("td",{children:j}),Object(c.jsx)("td",{children:u}),Object(c.jsx)("td",{children:b}),Object(c.jsx)("td",{children:h}),Object(c.jsx)("td",{children:p}),Object(c.jsx)("td",{children:O}),Object(c.jsx)("td",{children:m}),Object(c.jsx)("td",{children:f}),Object(c.jsx)("td",{children:x}),Object(c.jsx)("td",{children:g}),Object(c.jsx)("td",{children:_}),Object(c.jsx)("td",{children:v}),Object(c.jsx)("td",{children:y}),Object(c.jsx)("td",{children:k}),Object(c.jsx)("td",{children:w}),Object(c.jsx)("td",{children:N}),Object(c.jsx)("td",{children:C}),Object(c.jsx)("td",{children:H}),Object(c.jsx)("td",{children:P}),Object(c.jsx)("td",{children:S}),Object(c.jsx)("td",{children:R}),Object(c.jsx)("td",{children:F}),Object(c.jsx)("td",{children:D}),Object(c.jsx)("td",{children:M}),Object(c.jsx)("td",{children:E}),Object(c.jsx)("td",{children:I}),Object(c.jsx)("td",{children:Y}),Object(c.jsx)("td",{children:q}),Object(c.jsx)("td",{children:z}),Object(c.jsx)("td",{children:T}),Object(c.jsx)("td",{children:A}),Object(c.jsx)("td",{children:B}),Object(c.jsx)("td",{children:L}),Object(c.jsx)("td",{children:J}),Object(c.jsx)("td",{children:V}),Object(c.jsx)("td",{children:X})]})})},be=function(e){var t=e.parametros,a=t.sector,r=t.sospechosos,i=t.indigena,o=t.fecha_ingreso,s=t.fecha_def,d=t.inmusupr,l=t.id_registro,j=t.entidad_res,u=t.tipo_paciente,b=t.uci,h=t.cardiovascular,p=t.clasificacion_final,O=t.neumonia,m=t.hipertension,f=t.entidad_um,x=t.toma_muestra_antigeno,g=t.epoc,_=t.asma,v=t.origen,y=t.toma_muestra_lab,k=t.nacionalidad,w=t.pais_origen,N=t.rango_edad,C=t.embarazo,H=t.municipio_res,P=t.sexo,S=t.obesidad,R=t.habla_lengua_indi,F=t.intubado,D=t.fecha_actualizacion,M=t.fecha_sintomas,E=t.diabetes,I=t.edad,Y=t.resultado_lab,q=t.clas_final_escrita,z=t.pais_nacionalidad,T=t.tabaquismo,A=t.otra_com,B=t.migrante,L=t.resultado_antigeno,J=t.entidad_nac,V=t.otro_caso,X=t.renal_cronica;return Object(c.jsxs)(n.Fragment,{children:[Object(c.jsx)("th",{children:a}),Object(c.jsx)("th",{children:r}),Object(c.jsx)("th",{children:i}),Object(c.jsx)("th",{children:o}),Object(c.jsx)("th",{children:s}),Object(c.jsx)("th",{children:d}),Object(c.jsx)("th",{children:l}),Object(c.jsx)("th",{children:j}),Object(c.jsx)("th",{children:u}),Object(c.jsx)("th",{children:b}),Object(c.jsx)("th",{children:h}),Object(c.jsx)("th",{children:p}),Object(c.jsx)("th",{children:O}),Object(c.jsx)("th",{children:m}),Object(c.jsx)("th",{children:f}),Object(c.jsx)("th",{children:x}),Object(c.jsx)("th",{children:g}),Object(c.jsx)("th",{children:_}),Object(c.jsx)("th",{children:v}),Object(c.jsx)("th",{children:y}),Object(c.jsx)("th",{children:k}),Object(c.jsx)("th",{children:w}),Object(c.jsx)("th",{children:N}),Object(c.jsx)("th",{children:C}),Object(c.jsx)("th",{children:H}),Object(c.jsx)("th",{children:P}),Object(c.jsx)("th",{children:S}),Object(c.jsx)("th",{children:R}),Object(c.jsx)("th",{children:F}),Object(c.jsx)("th",{children:D}),Object(c.jsx)("th",{children:M}),Object(c.jsx)("th",{children:E}),Object(c.jsx)("th",{children:I}),Object(c.jsx)("th",{children:Y}),Object(c.jsx)("th",{children:q}),Object(c.jsx)("th",{children:z}),Object(c.jsx)("th",{children:T}),Object(c.jsx)("th",{children:A}),Object(c.jsx)("th",{children:B}),Object(c.jsx)("th",{children:L}),Object(c.jsx)("th",{children:J}),Object(c.jsx)("th",{children:V}),Object(c.jsx)("th",{children:X})]})},he=function(){var e=Object(je.useIndexedDB)("covFechas"),t=Object(s.b)(),a=Object(s.c)((function(e){return e.datos})),r=a.datos,i=a.fecha.fechaServidor,o=a.parametros,d=a.numeroRegistros;0===r.length&&console.log("no llegaron");var l=function(e){var a;console.log(e.target.value),t((a=e.target.value,{type:R,payload:a}))};return Object(n.useEffect)((function(){(""!==i||r.length>0)&&e.add({fecha:i,datos:r}).then((function(e){console.log(e)})),e.getAll().then((function(e){var t=function(e){var t=e.filter((function(e){return void 0!==e.fecha&&0!==e.datos.length})),a=new Set(t.map(JSON.stringify));return{arrSinDuplicaciones:Array.from(a).map(JSON.parse)}}(e).arrSinDuplicaciones;console.log(t)})),console.log(d)}),[r,e,i,d]),Object(c.jsxs)("div",{className:"m-5",children:[Object(c.jsx)("h1",{children:"Estados"}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("input",{type:"number",name:"Numberr",id:"inputNumberr",className:"form-control",defaultValue:!0,min:100,max:1e3,step:100,required:"required",onChange:function(e){return l(e)}})}),Object(c.jsx)("div",{className:"table-responsive",style:{height:"80vh"},children:Object(c.jsxs)("table",{className:"table table-hover  table-dark ",children:[Object(c.jsx)("thead",{style:{backgroundColor:"#01599d"},children:Object(c.jsx)("tr",{children:Object(c.jsx)(n.Fragment,{children:Object(c.jsx)(be,{parametros:o})})})}),Object(c.jsx)("tbody",{children:r.map((function(e){var t=e.recordid,a=e.fields;return Object(c.jsx)(n.Fragment,{children:Object(c.jsx)(ue,{fields:a})},t)}))})]})})]})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2020%2F12%2F20";return"https://datos.cdmx.gob.mx/api/records/1.0/search/?dataset=capacidad-hospitalaria&q=&rows=".concat(e,"&facet=fecha&facet=nombre_hospital&facet=institucion&facet=estatus_capacidad_hospitalaria&facet=estatus_capacidad_uci&refine.fecha=").concat(t)},Oe=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.datos})).numeroRegistros;return Object(n.useEffect)((function(){try{console.log(t);var a=function(){return"https://datos.cdmx.gob.mx/api/records/1.0/search/?dataset=casos-asociados-a-covid-19&q=&rows=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,"&facet=fecha_actualizacion&facet=id_registro&facet=sector&facet=entidad_um&facet=sexo&facet=entidad_nac&facet=entidad_res&facet=municipio_res&facet=tipo_paciente&facet=fecha_ingreso&facet=fecha_def&facet=edad&facet=nacionalidad&facet=rango_edad&facet=resultado_lab&facet=clasificacion_final&facet=clas_final_escrita&facet=confirmados&facet=sospechosos&facet=negativos&refine.entidad_res=CIUDAD+DE+M%C3%89XICO")}(t);console.log(a),k(a).then((function(t){e(function(e){var t=e.records;return function(){var e=Object(h.a)(u.a.mark((function e(a,c){var n,r,i,o,s,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=x()().format("DD-MM-YYYY"),r=x()().subtract(1,"d").format("DD-MM-YYYY"),i=y(t.map((function(e){return e.record_timestamp}))),o=Object(b.a)(i,1),s=o[0],console.log(s),d=x()(s[0]).format("DD-MM-YYYY"),a(K(t)),a(G(n,r,d)),a(X(J));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}(t))}))}catch(c){}}),[e,t]),Object(c.jsx)("div",{style:{backgroundColor:"white"},children:Object(c.jsx)(he,{})})},me=function(e){var t=e.fields,a=t.estatus_capacidad_hospitalaria,r=t.fecha,i=t.coordenadas,o=t.institucion,s=t.nombre_hospital,d=t.estatus_capacidad_uci;return Object(c.jsx)(n.Fragment,{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{style:w(a),children:a}),Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:i}),Object(c.jsx)("td",{children:o}),Object(c.jsx)("td",{children:s}),Object(c.jsx)("td",{children:d})]})})},fe=function(e){var t=e.parametrosH,a=t.estatus_capacidad_hospitalaria,r=t.fecha,i=t.coordenadas,o=t.institucion,s=t.nombre_hospital,d=t.estatus_capacidad_uci;return Object(c.jsxs)(n.Fragment,{children:[Object(c.jsx)("td",{children:a}),Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:i}),Object(c.jsx)("td",{children:o}),Object(c.jsx)("td",{children:s}),Object(c.jsx)("td",{children:d})]})},xe=function(){var e=Object(s.c)((function(e){return e.hospitales})),t=e.datosH,a=e.parametrosH,r=e.nombresHospitales,i=(e.fechaHInput,Object(s.b)()),o=Object(n.useState)(""),d=Object(b.a)(o,2),l=d[0],j=d[1];return Object(n.useEffect)((function(){var e=t.map((function(e){return e.fields.nombre_hospital}));i({type:I,payload:{nombres:e}}),i(function(e){var t=N(e),a=Object(b.a)(t,1)[0];return function(){var t=Object(h.a)(u.a.mark((function t(c){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(ee({fechaI:e,fechaFormateada:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l))}),[l,t,i]),Object(c.jsxs)("div",{className:"m-5",children:[Object(c.jsx)("h1",{children:"Hospitales"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"exampleSelect",children:"Buscar por hospital"}),Object(c.jsx)("select",{className:"custom-select",id:"exampleSelect",children:r.map((function(e){return Object(c.jsx)(n.Fragment,{children:Object(c.jsx)("option",{value:e,children:e})},e)}))})]}),Object(c.jsx)("input",{type:"number",name:"Numberr",id:"inputNumberr",className:"form-control",defaultValue:!0,min:100,max:1e3,step:100,required:"required"}),Object(c.jsx)("input",{className:"form-control",onChange:function(e){return function(e){var t=e.target.value;j(t)}(e)},type:"date"})]}),Object(c.jsx)("div",{className:"table-responsive",style:{height:"80vh"},children:Object(c.jsxs)("table",{className:"table table-hover   table-dark ",children:[Object(c.jsx)("thead",{style:{backgroundColor:"#292b2c"},children:Object(c.jsx)("tr",{children:Object(c.jsx)(n.Fragment,{children:Object(c.jsx)(fe,{parametrosH:a})})})}),Object(c.jsx)("tbody",{children:t.map((function(e){var t=e.recordid,a=e.fields;return Object(c.jsx)(n.Fragment,{children:Object(c.jsx)(me,{fields:a})},t)}))})]})})]})},ge=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.hospitales})).numeroRegistrosHospitales;return Object(n.useEffect)((function(){var a=new Date,c=C(a),n=Object(b.a)(c,1)[0];console.log(n);try{e(function(){var e=new Date,t=C(e),a=Object(b.a)(t,1)[0],c=N(a),n=Object(b.a)(c,1)[0];return function(){var e=Object(h.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(W({hoy:a,hoyF:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}());var r=pe(t,"2020%2F1%2F1");console.log(r),k(r).then((function(t){e(function(e){var t=e.records;return console.log(t),function(){var e=Object(h.a)(u.a.mark((function e(a,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a($(t)),a(Q(U));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}(t))}))}catch(i){}}),[e,t]),Object(c.jsx)("div",{style:{backgroundColor:"white"},children:Object(c.jsx)(xe,{})})},_e=a(301),ve=a(17),ye=a(302),ke=function(e){var t=e.autoRotate,a=e.enabled,r=e.target,i=Object(n.useRef)(),o=Object(ve.d)(),s=o.camera,d=o.gl;return Object(ve.c)((function(){var e;i&&i.current&&i.current.update&&a&&(null===(e=i.current)||void 0===e||e.update())})),a?Object(c.jsx)(ye.a,{enabled:a,ref:i,target:r,args:[s,d.domElement],enableDamping:!0,enableZoom:!0,enableKeys:!1,enablePan:!1,dampingFactor:.1,rotateSpeed:.3,autoRotate:t,autoRotateSpeed:.4}):null},we=a(71),Ne=function(e){var t,a=e.cameraPosition,c=e.cameraTarget,n=Object(ve.d)().camera;return(t=n.position).set.apply(t,Object(O.a)(a)),n.lookAt.apply(n,Object(O.a)(c)),n.updateProjectionMatrix(),null},Ce=a(26),He=a(72),Pe=function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),r=a[0],i=a[1],o=Object(Ce.a)(He.a.Link),s=Object(Ce.c)({transform:r?"scale(1.1)":"scale(1)",padding:3,margin:"0.5rem 1rem",borderRadius:"5px",backgroundColor:r?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0)",color:"white"});return Object(c.jsx)(o,{onPointerOver:function(e){return i(!0)},onPointerOut:function(e){return i(!1)},style:Object(p.a)({},s),onClick:function(){return e.onNavLinkClicked(e.id,e.position,e.cameraPos)},children:e.name})},Se=function(e){e.markers;var t=e.onNavigationItemClicked,a=Object(s.c)((function(e){return e.planetas})).markersRedux;return Object(c.jsx)(n.Fragment,{children:a?a.map((function(e){return Object(c.jsx)(Pe,{id:e.id,name:e.name,cameraPos:e.cameraPos,position:e.position,onNavLinkClicked:t},e.id)})):null})},Re=function(e){var t=e.markers,a=e.onNavigationItemClicked,r=Object(s.c)((function(e){return e.planetas})).titulo;return Object(c.jsxs)(n.Fragment,{children:[Object(c.jsx)("h2",{className:"title",onClick:function(){return a(0)},children:r}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"date",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})}),Object(c.jsx)("div",{className:"cH",children:Object(c.jsx)(He.a,{defaultActiveKey:"/home",className:"flex-column",children:Object(c.jsx)(Se,{markers:t,onNavigationItemClicked:a})})})]})},Fe=a(300),De=function(e){var t=Object(Ce.c)({opacity:1,from:{opacity:0},config:Ce.b.slow}),a=Object(Ce.c)({backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",transform:e.id===e.selected?"scale(1)":"scale(0)",from:{transform:"scale(0)"}});return Object(c.jsx)("mesh",{position:e.position,children:Object(c.jsxs)(Fe.a,{scaleFactor:100,children:[Object(c.jsxs)(Ce.a.div,{className:"overlay",style:t,onClick:function(){console.log(e),e.onMarkerClicked(e.id,e.position,e.cameraPos)},children:[Object(c.jsx)("div",{className:"circle box",children:e.id}),Object(c.jsx)("div",{className:"box",children:Object(c.jsx)(He.a.Link,{className:"text-overlay",children:e.name})})]}),Object(c.jsxs)(Ce.a.div,{className:"info",style:a,children:[Object(c.jsx)("p",{children:"Datos del hospital"}),e.position]})]})})},Me=function(e){var t=e.markers,a=e.selectedItemIndex,r=e.onNavigationItemClicked,i=e.markers2,o=Object(n.useState)([]),s=Object(b.a)(o,2),d=(s[0],s[1]);return Object(n.useEffect)((function(){i.length>1&&d(i)}),[i]),Object(c.jsxs)("group",{children:[i.length>1?i.map((function(e){return Object(c.jsx)(De,{position:e.position,name:e.name,cameraPos:e.cameraPos,id:e.id,selected:a,onMarkerClicked:r},e.id+1)})):null,Object(c.jsx)(De,{position:t[1].position,name:t[1].name,id:1,selected:a,onMarkerClicked:r}),Object(c.jsx)(De,{position:t[2].position,name:t[2].name,id:2,selected:a,onMarkerClicked:r}),Object(c.jsx)(De,{position:t[3].position,name:t[3].name,id:3,selected:a,onMarkerClicked:r})]})},Ee="rgb(0, 105, 92)",Ie="rgb(255, 23, 68)",Ye="rgb(255, 214, 0)";function qe(e){var t=Object(n.useRef)(),a=Object(n.useRef)();console.log(e.markers2);var r=function(e){var t;switch(e){case"Cr\xedtica":t=Ie;break;case"Media":t=Ye;break;case"Buena":default:t=Ee}return t};return Object(c.jsx)("group",Object(p.a)(Object(p.a)({ref:t},e),{},{dispose:null,children:Object(c.jsx)("group",{children:Object(c.jsxs)("group",{children:[Object(c.jsxs)("mesh",{visible:!0,userData:{test:"hello"},ref:a,position:[0,0,0],autoRotate:!0,autoRotateSpeed:.2,children:[Object(c.jsx)("sphereGeometry",{attach:"geometry",args:[5,7,16]}),Object(c.jsx)("meshStandardMaterial",{attach:"material",color:Ye})]}),e.markers2.map((function(e){return Object(c.jsxs)("mesh",{visible:!0,userData:{test:"hello"},ref:a,position:e.position,autoRotate:!0,autoRotateSpeed:.2,children:[Object(c.jsx)("sphereGeometry",{attach:"geometry",args:[5,7,16]}),Object(c.jsx)("meshStandardMaterial",{attach:"material",color:r(e.estatus_capacidad_hospitalaria)})]})}))]})})}))}var ze,Te=function(e){var t=e.position,a=e.markers2;return Object(c.jsx)(qe,{position:t,markers2:a})},Ae=[18,18,18],Be=[0,0,0];Object(ve.b)({OrbitControls:we.a});var Le=function(){var e=Object(s.c)((function(e){return e.planetas})),t=e.datos,a=(e.markerRedux,Object(n.useState)(0)),r=Object(b.a)(a,2),i=r[0],o=r[1],d=Object(s.b)(),l=[{position:[0,0,0],cameraPos:[18,18,18],name:"camaraCentral",loc:[],estatus_capacidad_hospitalaria:""}],j=new m.a,u=Object(n.useState)([{position:[0,0,0],cameraPos:[18,18,18],name:"Titulo"},{position:[-12,10,2],cameraPos:[3,9,2],name:"Estado 1"},{position:[0,10,-7],cameraPos:[0,10,9],name:"Estado 2"},{position:[0,6,2],cameraPos:[9,8,14],name:"Estado 3"}]),h=Object(b.a)(u,1)[0],p=1;t.forEach((function(e){var t=j.integer(-100,100),a=j.integer(-100,100),c=j.integer(-100,100);l=[].concat(Object(O.a)(l),[{position:[t,a,c],cameraPos:[t,a,c+10],name:e.fields.nombre_hospital,id:p,loc:e.fields.coordenadas,estatus_capacidad_hospitalaria:e.fields.estatus_capacidad_hospitalaria}]),p++})),Object(n.useEffect)((function(){if(1===i){var e=function(e){var t=[{position:[0,0,0],cameraPos:[18,18,18],id:0,name:"camaraCentral",loc:[]}],a=1;return e.forEach((function(e){var c=v.integer(-100,100),n=v.integer(-100,100),r=v.integer(-100,100);t=[].concat(Object(O.a)(t),[{position:[c,n,r],cameraPos:[c,n,r+10],name:e.fields.nombre_hospital,id:a,loc:e.fields.coordenadas}]),a++})),[t]}(t);Object(b.a)(e,1)[0];console.log(t),d({type:L,payload:l})}o(i+1)}),[t]);var f=Object(Ce.a)(Ne),x=Object(n.useState)(!1),g=Object(b.a)(x,2),_=g[0],y=g[1],k=Object(n.useState)({cachedPos:Ae,cachedTarget:Be,pos:Ae,target:Be,autoRotate:!0}),w=Object(b.a)(k,2),N=w[0],C=w[1],H=Object(Ce.c)({pos:N.pos,target:N.target,from:{pos:N.cachedPos,target:N.cachedTarget},config:Ce.b.slow,onRest:function(){return y(!1)}}),P=function(e,t,a){alert(t),alert(a),ze===e||_||(ze=e,y(!0),C({cachedPos:N.pos,cachedTarget:N.cachedTarget,pos:a,target:t,autoRotate:0===e}))};return Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("div",{className:"ui",children:Object(c.jsx)(Re,{onNavigationItemClicked:P,markers:h})}),0===h.length?null:Object(c.jsxs)(ve.a,{children:[Object(c.jsx)("ambientLight",{}),Object(c.jsx)("pointLight",{position:[100,100,100],intensity:2}),Object(c.jsx)(f,{cameraPosition:H.pos,cameraTarget:H.target}),Object(c.jsx)(Te,{position:[0,0,0],markers2:l}),_&&void 0!==h?null:Object(c.jsx)(Me,{markers:h,markers2:l,selectedItemIndex:ze,onNavigationItemClicked:P}),Object(c.jsx)(n.Suspense,{}),Object(c.jsx)(ke,{enabled:!_,autoRotate:N.autoRotate,target:N.target}),Object(c.jsx)(_e.a,{radius:100,depth:100,count:1e4,factor:6,saturation:0,fade:!0})]})]})},Je=(a(296),function(){new Date;var e=Object(s.b)(),t="2021%2F01%2F08";e({type:B,payload:t});var a=pe(50,t);return k(a).then((function(t){console.log(t),e(function(e){var t=e.records,a=e.parameters.facet,c=t.map((function(e){return e.fields.nombre_hospital})),n=t[0].datasetid.replace(/-/g," ");return console.log(n),function(){var e=Object(h.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(ae(t)),r(ce(n)),r(ne(c)),r(re(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))})),Object(c.jsx)("div",{children:Object(c.jsx)(Le,{})})}),Ve=function(){return Object(c.jsx)(de.a,{children:Object(c.jsx)("div",{children:Object(c.jsxs)(le.d,{children:[Object(c.jsx)(le.b,{exact:!0,path:"/estados",component:Oe}),Object(c.jsx)(le.b,{exact:!0,path:"/hospitales",component:ge}),Object(c.jsx)(le.b,{exact:!0,path:"/planetas",component:Je}),Object(c.jsx)(le.b,{exact:!0,path:"/",component:Je}),Object(c.jsx)(le.a,{to:"/"})]})})})};a(162);Object(je.initDB)({name:"covDB",version:1,objectStoresMeta:[{store:"covFechas",storeConfig:{keypath:"id",autoIncrement:!0},storeSchema:[{name:"hoy",keypath:"hoy",options:{unique:!1}},{name:"datos",keypath:"datos",options:{unique:!1}}]}]});var Xe=function(){return Object(c.jsx)(s.a,{store:se,children:Object(c.jsx)("div",{children:Object(c.jsx)(Ve,{})})})};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Xe,{})}),document.getElementById("root"))}},[[298,1,2]]]);
//# sourceMappingURL=main.637aff9e.chunk.js.map